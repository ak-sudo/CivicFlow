{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,6MAAO,EAAC,IAAA,oLAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,8MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+MAAI,GAAG;IAE9B,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,aAAa,EACpB,GAAG,OACqD;IACxD,qBAAO,iOAAC,2NAA0B;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACxE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,iOAAC,6NAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,oBAAoB,EAC3B,GAAG,OACwD;IAC3D,qBACE,iOAAC,8NAA6B;QAC5B,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS;AAWT,SAAS,oBAAoB,EAC3B,SAAS,EACT,aAAa,CAAC,EACd,GAAG,OACwD;IAC3D,qBACE,iOAAC,6NAA4B;kBAC3B,cAAA,iOAAC,8NAA6B;YAC5B,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,yJAAE,EACX,0jBACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MAlBS;AAoBT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,iOAAC,4NAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,iBAAiB,EACxB,SAAS,EACT,KAAK,EACL,UAAU,SAAS,EACnB,GAAG,OAIJ;IACC,qBACE,iOAAC,2NAA0B;QACzB,aAAU;QACV,cAAY;QACZ,gBAAc;QACd,WAAW,IAAA,yJAAE,EACX,+mBACA;QAED,GAAG,KAAK;;;;;;AAGf;MArBS;AAuBT,SAAS,yBAAyB,EAChC,SAAS,EACT,QAAQ,EACR,OAAO,EACP,GAAG,OAC6D;IAChE,qBACE,iOAAC,mOAAkC;QACjC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,gTACA;QAEF,SAAS;QACR,GAAG,KAAK;;0BAET,iOAAC;gBAAK,WAAU;0BACd,cAAA,iOAAC,oOAAmC;8BAClC,cAAA,iOAAC,4PAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGxB;;;;;;;AAGP;MAxBS;AA0BT,SAAS,uBAAuB,EAC9B,GAAG,OAC2D;IAC9D,qBACE,iOAAC,iOAAgC;QAC/B,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS;AAWT,SAAS,sBAAsB,EAC7B,SAAS,EACT,QAAQ,EACR,GAAG,OAC0D;IAC7D,qBACE,iOAAC,gOAA+B;QAC9B,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,gTACA;QAED,GAAG,KAAK;;0BAET,iOAAC;gBAAK,WAAU;0BACd,cAAA,iOAAC,oOAAmC;8BAClC,cAAA,iOAAC,+PAAU;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGzB;;;;;;;AAGP;MAtBS;AAwBT,SAAS,kBAAkB,EACzB,SAAS,EACT,KAAK,EACL,GAAG,OAGJ;IACC,qBACE,iOAAC,4NAA2B;QAC1B,aAAU;QACV,cAAY;QACZ,WAAW,IAAA,yJAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGf;MAlBS;AAoBT,SAAS,sBAAsB,EAC7B,SAAS,EACT,GAAG,OAC0D;IAC7D,qBACE,iOAAC,gOAA+B;QAC9B,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;OAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGf;OAdS;AAgBT,SAAS,gBAAgB,EACvB,GAAG,OACoD;IACvD,qBAAO,iOAAC,0NAAyB;QAAC,aAAU;QAAqB,GAAG,KAAK;;;;;;AAC3E;OAJS;AAMT,SAAS,uBAAuB,EAC9B,SAAS,EACT,KAAK,EACL,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,iOAAC,iOAAgC;QAC/B,aAAU;QACV,cAAY;QACZ,WAAW,IAAA,yJAAE,EACX,8WACA;QAED,GAAG,KAAK;;YAER;0BACD,iOAAC,qRAAgB;gBAAC,WAAU;;;;;;;;;;;;AAGlC;OAtBS;AAwBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,iOAAC,iOAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,ifACA;QAED,GAAG,KAAK;;;;;;AAGf;OAdS"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,8MAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+MAAI,GAAG;IAE9B,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\n\nlet browserClient: ReturnType<typeof createBrowserClient> | null = null\n\nexport function createClient() {\n  if (browserClient) return browserClient\n\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase environment variables. Please check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY\",\n    )\n  }\n\n  browserClient = createBrowserClient(supabaseUrl, supabaseAnonKey)\n  return browserClient\n}\n"],"names":[],"mappings":";;;;AAOsB;AAPtB;AAAA;;AAEA,IAAI,gBAA+D;AAE5D,SAAS;IACd,IAAI,eAAe,OAAO;IAE1B,MAAM;IACN,MAAM;IAEN;;IAMA,gBAAgB,IAAA,wOAAmB,EAAC,aAAa;IACjD,OAAO;AACT"}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/lib/utils/worker-notifications-storage.ts"],"sourcesContent":["export interface WorkerNotification {\n  id: string\n  worker_id: string\n  type: \"task_assigned\" | \"task_approved\" | \"task_rejected\" | \"high_priority\" | \"info\"\n  title: string\n  message: string\n  report_id?: string\n  is_read: boolean\n  created_at: string\n}\n\nconst WORKER_NOTIFICATIONS_KEY = \"civicflow_worker_notifications\"\n\nexport function getWorkerNotifications(workerId: string): WorkerNotification[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(WORKER_NOTIFICATIONS_KEY)\n    const allNotifications: WorkerNotification[] = stored ? JSON.parse(stored) : []\n    return allNotifications\n      .filter((n) => n.worker_id === workerId)\n      .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n  } catch {\n    return []\n  }\n}\n\nexport function addWorkerNotification(notification: WorkerNotification): void {\n  if (typeof window === \"undefined\") return\n  try {\n    const stored = localStorage.getItem(WORKER_NOTIFICATIONS_KEY)\n    const notifications: WorkerNotification[] = stored ? JSON.parse(stored) : []\n\n    notifications.unshift(notification)\n\n    // Keep only last 100 notifications per worker\n    const workerNotifications = notifications.filter((n) => n.worker_id === notification.worker_id)\n    if (workerNotifications.length > 100) {\n      const toRemove = workerNotifications.slice(100).map((n) => n.id)\n      const filtered = notifications.filter((n) => !toRemove.includes(n.id))\n      localStorage.setItem(WORKER_NOTIFICATIONS_KEY, JSON.stringify(filtered))\n    } else {\n      localStorage.setItem(WORKER_NOTIFICATIONS_KEY, JSON.stringify(notifications))\n    }\n\n    window.dispatchEvent(new CustomEvent(\"workerNotificationAdded\", { detail: notification }))\n  } catch (error) {\n    console.error(\"Failed to add worker notification:\", error)\n  }\n}\n\nexport function markWorkerNotificationAsRead(notificationId: string): void {\n  if (typeof window === \"undefined\") return\n  try {\n    const stored = localStorage.getItem(WORKER_NOTIFICATIONS_KEY)\n    const notifications: WorkerNotification[] = stored ? JSON.parse(stored) : []\n\n    const updated = notifications.map((n) => (n.id === notificationId ? { ...n, is_read: true } : n))\n\n    localStorage.setItem(WORKER_NOTIFICATIONS_KEY, JSON.stringify(updated))\n    window.dispatchEvent(new CustomEvent(\"workerNotificationUpdated\"))\n  } catch (error) {\n    console.error(\"Failed to mark notification as read:\", error)\n  }\n}\n\nexport function deleteWorkerNotification(notificationId: string): void {\n  if (typeof window === \"undefined\") return\n  try {\n    const stored = localStorage.getItem(WORKER_NOTIFICATIONS_KEY)\n    const notifications: WorkerNotification[] = stored ? JSON.parse(stored) : []\n\n    const filtered = notifications.filter((n) => n.id !== notificationId)\n\n    localStorage.setItem(WORKER_NOTIFICATIONS_KEY, JSON.stringify(filtered))\n    window.dispatchEvent(new CustomEvent(\"workerNotificationUpdated\"))\n  } catch (error) {\n    console.error(\"Failed to delete notification:\", error)\n  }\n}\n\nexport function markAllWorkerNotificationsAsRead(workerId: string): void {\n  if (typeof window === \"undefined\") return\n  try {\n    const stored = localStorage.getItem(WORKER_NOTIFICATIONS_KEY)\n    const notifications: WorkerNotification[] = stored ? JSON.parse(stored) : []\n\n    const updated = notifications.map((n) => (n.worker_id === workerId ? { ...n, is_read: true } : n))\n\n    localStorage.setItem(WORKER_NOTIFICATIONS_KEY, JSON.stringify(updated))\n    window.dispatchEvent(new CustomEvent(\"workerNotificationUpdated\"))\n  } catch (error) {\n    console.error(\"Failed to mark all notifications as read:\", error)\n  }\n}\n\nexport function getUnreadWorkerNotificationCount(workerId: string): number {\n  const notifications = getWorkerNotifications(workerId)\n  return notifications.filter((n) => !n.is_read).length\n}\n\n// Helper function to create notification when report is assigned to worker\nexport function createTaskAssignedNotification(\n  workerId: string,\n  reportId: string,\n  reportTitle: string,\n  location: string,\n): void {\n  const notification: WorkerNotification = {\n    id: `notif_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    worker_id: workerId,\n    type: \"task_assigned\",\n    title: \"नया कार्य सौंपा गया / New Task Assigned\",\n    message: `आपको ${location} पर एक नया ${reportTitle} कार्य सौंपा गया है`,\n    report_id: reportId,\n    is_read: false,\n    created_at: new Date().toISOString(),\n  }\n  addWorkerNotification(notification)\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/lib/utils/profile-storage.ts"],"sourcesContent":["export interface UserProfile {\n  id: string\n  full_name: string\n  email: string\n  phone?: string\n  address?: string\n  role: string\n  created_at: string\n  updated_at: string\n}\n\nconst PROFILE_KEY = \"civicflow_user_profile\"\n\nexport function getProfileFromStorage(): UserProfile | null {\n  if (typeof window === \"undefined\") return null\n  try {\n    const stored = localStorage.getItem(PROFILE_KEY)\n    return stored ? JSON.parse(stored) : null\n  } catch {\n    return null\n  }\n}\n\nexport function saveProfileToStorage(profile: UserProfile): void {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(PROFILE_KEY, JSON.stringify(profile))\n    window.dispatchEvent(new CustomEvent(\"profileUpdated\", { detail: { profile } }))\n  } catch (error) {\n    console.error(\"Failed to save profile to localStorage:\", error)\n  }\n}\n\nexport function initializeDefaultProfile(): UserProfile {\n  const defaultProfile: UserProfile = {\n    id: \"user_\" + Date.now(),\n    full_name: \"Amit Verma\",\n    email: \"amit.verma@example.com\",\n    phone: \"+91 98765 43210\",\n    address: \"Connaught Place, New Delhi, Delhi 110001\",\n    role: \"citizen\",\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  }\n\n  const existing = getProfileFromStorage()\n  if (!existing) {\n    saveProfileToStorage(defaultProfile)\n  }\n\n  return existing || defaultProfile\n}\n"],"names":[],"mappings":";;;;;;;;AAWA,MAAM,cAAc;AAEb,SAAS;IACd;;IACA,IAAI;QACF,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU;IACvC,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,qBAAqB,OAAoB;IACvD;;IACA,IAAI;QACF,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACjD,OAAO,aAAa,CAAC,IAAI,YAAY,kBAAkB;YAAE,QAAQ;gBAAE;YAAQ;QAAE;IAC/E,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;IAC3D;AACF;AAEO,SAAS;IACd,MAAM,iBAA8B;QAClC,IAAI,UAAU,KAAK,GAAG;QACtB,WAAW;QACX,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;QACN,YAAY,IAAI,OAAO,WAAW;QAClC,YAAY,IAAI,OAAO,WAAW;IACpC;IAEA,MAAM,WAAW;IACjB,IAAI,CAAC,UAAU;QACb,qBAAqB;IACvB;IAEA,OAAO,YAAY;AACrB"}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/role-switcher.tsx"],"sourcesContent":["\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { User, Users, HardHat, Home, Menu } from \"lucide-react\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\n\nexport function RoleSwitcher() {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\">\n          <Menu className=\"h-5 w-5\" />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-56\">\n        <DropdownMenuLabel>Switch View</DropdownMenuLabel>\n        <DropdownMenuSeparator />\n        <DropdownMenuItem asChild>\n          <Link href=\"/\" className=\"cursor-pointer\">\n            <Home className=\"mr-2 h-4 w-4\" />\n            Landing Page\n          </Link>\n        </DropdownMenuItem>\n        <DropdownMenuItem asChild>\n          <Link href=\"/citizen/dashboard\" className=\"cursor-pointer\">\n            <User className=\"mr-2 h-4 w-4\" />\n            Citizen View\n          </Link>\n        </DropdownMenuItem>\n        <DropdownMenuItem asChild>\n          <Link href=\"/worker/dashboard\" className=\"cursor-pointer\">\n            <HardHat className=\"mr-2 h-4 w-4\" />\n            Worker View\n          </Link>\n        </DropdownMenuItem>\n        <DropdownMenuItem asChild>\n          <Link href=\"/admin/dashboard\" className=\"cursor-pointer\">\n            <Users className=\"mr-2 h-4 w-4\" />\n            Admin View\n          </Link>\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;AAcO,SAAS;IACd,qBACE,iOAAC,4LAAY;;0BACX,iOAAC,mMAAmB;gBAAC,OAAO;0BAC1B,cAAA,iOAAC,4KAAM;oBAAC,SAAQ;oBAAQ,MAAK;8BAC3B,cAAA,iOAAC,iPAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGpB,iOAAC,mMAAmB;gBAAC,OAAM;gBAAM,WAAU;;kCACzC,iOAAC,iMAAiB;kCAAC;;;;;;kCACnB,iOAAC,qMAAqB;;;;;kCACtB,iOAAC,gMAAgB;wBAAC,OAAO;kCACvB,cAAA,iOAAC,8MAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,iOAAC,kPAAI;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;kCAIrC,iOAAC,gMAAgB;wBAAC,OAAO;kCACvB,cAAA,iOAAC,8MAAI;4BAAC,MAAK;4BAAqB,WAAU;;8CACxC,iOAAC,iPAAI;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;kCAIrC,iOAAC,gMAAgB;wBAAC,OAAO;kCACvB,cAAA,iOAAC,8MAAI;4BAAC,MAAK;4BAAoB,WAAU;;8CACvC,iOAAC,8PAAO;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;kCAIxC,iOAAC,gMAAgB;wBAAC,OAAO;kCACvB,cAAA,iOAAC,8MAAI;4BAAC,MAAK;4BAAmB,WAAU;;8CACtC,iOAAC,oPAAK;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAO9C;KAtCgB"}},
    {"offset": {"line": 833, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/worker/nav-header.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Bell, User, LogOut } from \"lucide-react\"\nimport Image from \"next/image\"\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { useRouter } from \"next/navigation\"\nimport { useEffect, useState } from \"react\"\nimport { getUnreadWorkerNotificationCount } from \"@/lib/utils/worker-notifications-storage\"\nimport { getProfileFromStorage } from \"@/lib/utils/profile-storage\"\nimport { RoleSwitcher } from \"@/components/role-switcher\"\n\ninterface NavHeaderProps {\n  userName: string\n  unreadCount?: number\n}\n\nexport function WorkerNavHeader({ userName }: NavHeaderProps) {\n  const router = useRouter()\n  const [unreadCount, setUnreadCount] = useState(0)\n  const profile = getProfileFromStorage()\n  const workerId = profile?.id || \"worker_default\"\n\n  useEffect(() => {\n    const updateUnreadCount = () => {\n      const count = getUnreadWorkerNotificationCount(workerId)\n      setUnreadCount(count)\n    }\n\n    updateUnreadCount()\n\n    // Listen for notification updates\n    window.addEventListener(\"workerNotificationAdded\", updateUnreadCount)\n    window.addEventListener(\"workerNotificationUpdated\", updateUnreadCount)\n\n    return () => {\n      window.removeEventListener(\"workerNotificationAdded\", updateUnreadCount)\n      window.removeEventListener(\"workerNotificationUpdated\", updateUnreadCount)\n    }\n  }, [workerId])\n\n  const handleLogout = async () => {\n    const supabase = createClient()\n    await supabase.auth.signOut()\n    router.push(\"/\")\n  }\n\n  return (\n    <header className=\"sticky top-0 z-40 border-b border-border bg-background\">\n      <div className=\"flex h-16 items-center justify-between px-4 md:px-6\">\n        <Link href=\"/citizen/dashboard\" className=\"flex items-center gap-2\">\n          <Image src=\"/civiflow-logo.png\" alt=\"CivicFlow Logo\" width={36} height={36} className=\"object-contain\" />\n          <span className=\"text-xl font-bold hidden sm:inline\">CivicFlow</span>\n        </Link>\n\n        <nav className=\"flex items-center gap-6\">\n          <Link href=\"/worker/dashboard\" className=\"text-sm font-medium hover:text-primary transition-colors\">\n            Dashboard\n          </Link>\n          <Link href=\"/worker/tasks\" className=\"text-sm font-medium hover:text-primary transition-colors\">\n            My Tasks\n          </Link>\n          <Link href=\"/worker/attendance\" className=\"text-sm font-medium hover:text-primary transition-colors\">\n            Attendance\n          </Link>\n        </nav>\n\n        <div className=\"flex items-center gap-3\">\n          <Button variant=\"ghost\" size=\"icon\" className=\"relative\" asChild>\n            <Link href=\"/worker/notifications\">\n              <Bell className=\"h-5 w-5\" />\n              {unreadCount > 0 && (\n                <Badge className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs\">\n                  {unreadCount}\n                </Badge>\n              )}\n            </Link>\n          </Button>\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\">\n                <User className=\"h-5 w-5\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              <DropdownMenuLabel>\n                <div className=\"flex flex-col gap-1\">\n                  <p className=\"text-sm font-medium\">{userName}</p>\n                  <p className=\"text-xs text-muted-foreground\">Worker Account</p>\n                </div>\n              </DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem asChild>\n                <Link href=\"/worker/profile\">Profile Settings</Link>\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={handleLogout} className=\"text-destructive\">\n                <LogOut className=\"mr-2 h-4 w-4\" />\n                Logout\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          <RoleSwitcher />\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;;AArBA;;;;;;;;;;;;;AA4BO,SAAS,gBAAgB,EAAE,QAAQ,EAAkB;;IAC1D,MAAM,SAAS,IAAA,sLAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6MAAQ,EAAC;IAC/C,MAAM,UAAU,IAAA,kMAAqB;IACrC,MAAM,WAAW,SAAS,MAAM;IAEhC,IAAA,8MAAS;qCAAC;YACR,MAAM;+DAAoB;oBACxB,MAAM,QAAQ,IAAA,6NAAgC,EAAC;oBAC/C,eAAe;gBACjB;;YAEA;YAEA,kCAAkC;YAClC,OAAO,gBAAgB,CAAC,2BAA2B;YACnD,OAAO,gBAAgB,CAAC,6BAA6B;YAErD;6CAAO;oBACL,OAAO,mBAAmB,CAAC,2BAA2B;oBACtD,OAAO,mBAAmB,CAAC,6BAA6B;gBAC1D;;QACF;oCAAG;QAAC;KAAS;IAEb,MAAM,eAAe;QACnB,MAAM,WAAW,IAAA,gLAAY;QAC7B,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,iOAAC;QAAO,WAAU;kBAChB,cAAA,iOAAC;YAAI,WAAU;;8BACb,iOAAC,8MAAI;oBAAC,MAAK;oBAAqB,WAAU;;sCACxC,iOAAC,+KAAK;4BAAC,KAAI;4BAAqB,KAAI;4BAAiB,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;sCACtF,iOAAC;4BAAK,WAAU;sCAAqC;;;;;;;;;;;;8BAGvD,iOAAC;oBAAI,WAAU;;sCACb,iOAAC,8MAAI;4BAAC,MAAK;4BAAoB,WAAU;sCAA2D;;;;;;sCAGpG,iOAAC,8MAAI;4BAAC,MAAK;4BAAgB,WAAU;sCAA2D;;;;;;sCAGhG,iOAAC,8MAAI;4BAAC,MAAK;4BAAqB,WAAU;sCAA2D;;;;;;;;;;;;8BAKvG,iOAAC;oBAAI,WAAU;;sCACb,iOAAC,4KAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAO,WAAU;4BAAW,OAAO;sCAC9D,cAAA,iOAAC,8MAAI;gCAAC,MAAK;;kDACT,iOAAC,iPAAI;wCAAC,WAAU;;;;;;oCACf,cAAc,mBACb,iOAAC,0KAAK;wCAAC,WAAU;kDACd;;;;;;;;;;;;;;;;;sCAMT,iOAAC,4LAAY;;8CACX,iOAAC,mMAAmB;oCAAC,OAAO;8CAC1B,cAAA,iOAAC,4KAAM;wCAAC,SAAQ;wCAAQ,MAAK;kDAC3B,cAAA,iOAAC,iPAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAGpB,iOAAC,mMAAmB;oCAAC,OAAM;oCAAM,WAAU;;sDACzC,iOAAC,iMAAiB;sDAChB,cAAA,iOAAC;gDAAI,WAAU;;kEACb,iOAAC;wDAAE,WAAU;kEAAuB;;;;;;kEACpC,iOAAC;wDAAE,WAAU;kEAAgC;;;;;;;;;;;;;;;;;sDAGjD,iOAAC,qMAAqB;;;;;sDACtB,iOAAC,gMAAgB;4CAAC,OAAO;sDACvB,cAAA,iOAAC,8MAAI;gDAAC,MAAK;0DAAkB;;;;;;;;;;;sDAE/B,iOAAC,qMAAqB;;;;;sDACtB,iOAAC,gMAAgB;4CAAC,SAAS;4CAAc,WAAU;;8DACjD,iOAAC,2PAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;sCAMzC,iOAAC,sLAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB;GA5FgB;;QACC,sLAAS;;;KADV"}},
    {"offset": {"line": 1159, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iOAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 1279, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/lib/utils/attendance-storage.ts"],"sourcesContent":["export interface AttendanceRecord {\n  id: string\n  worker_id: string\n  worker_name: string\n  check_in_time: string\n  check_out_time: string | null\n  duration_minutes: number | null\n  date: string\n  location?: {\n    latitude: number\n    longitude: number\n    locationName?: string\n  }\n  status: \"checked_in\" | \"checked_out\"\n  created_at: string\n  updated_at: string\n}\n\nconst ATTENDANCE_KEY = \"civicflow_attendance_records\"\n\nexport function getAttendanceRecords(): AttendanceRecord[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(ATTENDANCE_KEY)\n    return stored ? JSON.parse(stored) : []\n  } catch {\n    return []\n  }\n}\n\nexport function saveAttendanceRecord(record: AttendanceRecord): void {\n  if (typeof window === \"undefined\") return\n  try {\n    const records = getAttendanceRecords()\n    const existingIndex = records.findIndex((r) => r.id === record.id)\n\n    if (existingIndex >= 0) {\n      records[existingIndex] = record\n    } else {\n      records.push(record)\n    }\n\n    localStorage.setItem(ATTENDANCE_KEY, JSON.stringify(records))\n    window.dispatchEvent(new CustomEvent(\"attendanceUpdated\", { detail: { record } }))\n  } catch (error) {\n    console.error(\"Failed to save attendance record:\", error)\n  }\n}\n\nexport function getTodayAttendance(workerId: string): AttendanceRecord | null {\n  const records = getAttendanceRecords()\n  const today = new Date().toDateString()\n\n  return records.find((r) => r.worker_id === workerId && new Date(r.date).toDateString() === today) || null\n}\n\nexport function getWorkerAttendanceHistory(workerId: string, limit?: number): AttendanceRecord[] {\n  const records = getAttendanceRecords()\n  const workerRecords = records\n    .filter((r) => r.worker_id === workerId)\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n\n  return limit ? workerRecords.slice(0, limit) : workerRecords\n}\n\nexport function calculateDuration(checkInTime: string, checkOutTime: string): number {\n  const checkIn = new Date(checkInTime)\n  const checkOut = new Date(checkOutTime)\n  return Math.floor((checkOut.getTime() - checkIn.getTime()) / (1000 * 60)) // minutes\n}\n\nexport function formatDuration(minutes: number): string {\n  const hours = Math.floor(minutes / 60)\n  const mins = minutes % 60\n  return `${hours}h ${mins}m`\n}\n\nexport function addAttendanceAuditLog(record: AttendanceRecord): void {\n  if (typeof window === \"undefined\") return\n\n  try {\n    const auditLogs = JSON.parse(localStorage.getItem(\"civicflow_audit_logs\") || \"[]\")\n\n    const auditEntry = {\n      id: `audit_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      timestamp: new Date().toISOString(),\n      action: record.status === \"checked_in\" ? \"WORKER_CHECK_IN\" : \"WORKER_CHECK_OUT\",\n      user_id: record.worker_id,\n      user_name: record.worker_name,\n      user_role: \"worker\",\n      details: {\n        attendance_id: record.id,\n        check_in_time: record.check_in_time,\n        check_out_time: record.check_out_time,\n        duration_minutes: record.duration_minutes,\n        date: record.date,\n      },\n      ip_address: \"127.0.0.1\",\n      user_agent: navigator.userAgent,\n    }\n\n    auditLogs.unshift(auditEntry)\n\n    // Keep only last 500 logs\n    if (auditLogs.length > 500) {\n      auditLogs.splice(500)\n    }\n\n    localStorage.setItem(\"civicflow_audit_logs\", JSON.stringify(auditLogs))\n    window.dispatchEvent(new CustomEvent(\"auditLogUpdated\"))\n  } catch (error) {\n    console.error(\"Failed to add audit log:\", error)\n  }\n}\n\nexport async function getLocationName(latitude: number, longitude: number): Promise<string> {\n  try {\n    const response = await fetch(\n      `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`,\n    )\n    const data = await response.json()\n\n    if (data.display_name) {\n      return data.display_name\n    }\n\n    // Fallback to coordinates if name not available\n    return `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`\n  } catch (error) {\n    console.error(\"Failed to get location name:\", error)\n    return `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1404, "column": 0}, "map": {"version":3,"sources":["file:///Users/akshatkala/Downloads/geminiaiintegration/app/worker/attendance/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { WorkerNavHeader } from \"@/components/worker/nav-header\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Clock, CheckCircle, Loader2, Calendar, MapPin } from \"lucide-react\"\nimport {\n  saveAttendanceRecord,\n  getTodayAttendance,\n  getWorkerAttendanceHistory,\n  calculateDuration,\n  formatDuration,\n  addAttendanceAuditLog,\n  getLocationName,\n  type AttendanceRecord,\n} from \"@/lib/utils/attendance-storage\"\nimport { getProfileFromStorage } from \"@/lib/utils/profile-storage\"\n\nexport default function AttendancePage() {\n  const [isLoading, setIsLoading] = useState(false)\n  const [todayAttendance, setTodayAttendance] = useState<AttendanceRecord | null>(null)\n  const [attendanceHistory, setAttendanceHistory] = useState<AttendanceRecord[]>([])\n  const [error, setError] = useState<string | null>(null)\n  const [currentTime, setCurrentTime] = useState(new Date())\n\n  const profile = getProfileFromStorage()\n  const workerId = profile?.id || \"worker_default\"\n  const workerName = profile?.full_name || \"Worker\"\n\n  useEffect(() => {\n    loadAttendanceData()\n\n    // Update current time every second\n    const timer = setInterval(() => {\n      setCurrentTime(new Date())\n    }, 1000)\n\n    const handleAttendanceUpdate = () => loadAttendanceData()\n    window.addEventListener(\"attendanceUpdated\", handleAttendanceUpdate)\n\n    return () => {\n      clearInterval(timer)\n      window.removeEventListener(\"attendanceUpdated\", handleAttendanceUpdate)\n    }\n  }, [])\n\n  const loadAttendanceData = () => {\n    const today = getTodayAttendance(workerId)\n    const history = getWorkerAttendanceHistory(workerId, 10)\n\n    setTodayAttendance(today)\n    setAttendanceHistory(history)\n  }\n\n  const handleCheckIn = async () => {\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      let location: { latitude: number; longitude: number; locationName?: string } | undefined\n\n      if (navigator.geolocation) {\n        try {\n          const position = await new Promise<GeolocationPosition>((resolve, reject) => {\n            navigator.geolocation.getCurrentPosition(resolve, reject, {\n              timeout: 10000,\n              enableHighAccuracy: true,\n            })\n          })\n\n          const latitude = position.coords.latitude\n          const longitude = position.coords.longitude\n\n          // Get location name from coordinates\n          const locationName = await getLocationName(latitude, longitude)\n\n          location = {\n            latitude,\n            longitude,\n            locationName,\n          }\n        } catch (err) {\n          console.log(\"[v0] Geolocation not available or denied\")\n        }\n      }\n\n      const now = new Date()\n      const attendanceRecord: AttendanceRecord = {\n        id: `attendance_${workerId}_${Date.now()}`,\n        worker_id: workerId,\n        worker_name: workerName,\n        check_in_time: now.toISOString(),\n        check_out_time: null,\n        duration_minutes: null,\n        date: now.toISOString(),\n        location,\n        status: \"checked_in\",\n        created_at: now.toISOString(),\n        updated_at: now.toISOString(),\n      }\n\n      saveAttendanceRecord(attendanceRecord)\n      addAttendanceAuditLog(attendanceRecord)\n      setTodayAttendance(attendanceRecord)\n    } catch (err: any) {\n      setError(\"उपस्थिति दर्ज करने में विफल / Failed to check in\")\n      console.error(\"[v0] Check-in error:\", err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleCheckOut = async () => {\n    if (!todayAttendance) return\n\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const now = new Date()\n      const duration = calculateDuration(todayAttendance.check_in_time, now.toISOString())\n\n      const updatedRecord: AttendanceRecord = {\n        ...todayAttendance,\n        check_out_time: now.toISOString(),\n        duration_minutes: duration,\n        status: \"checked_out\",\n        updated_at: now.toISOString(),\n      }\n\n      saveAttendanceRecord(updatedRecord)\n      addAttendanceAuditLog(updatedRecord)\n      setTodayAttendance(updatedRecord)\n    } catch (err: any) {\n      setError(\"चेक आउट करने में विफल / Failed to check out\")\n      console.error(\"[v0] Check-out error:\", err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const getLiveDuration = () => {\n    if (!todayAttendance || todayAttendance.check_out_time) return null\n    return calculateDuration(todayAttendance.check_in_time, currentTime.toISOString())\n  }\n\n  const liveDuration = getLiveDuration()\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <WorkerNavHeader userName={workerName} />\n\n      <main className=\"container px-4 md:px-6 py-8\">\n        <div className=\"max-w-3xl mx-auto space-y-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">उपस्थिति / Attendance</h1>\n            <p className=\"text-muted-foreground mt-1\">Mark your check-in and check-out</p>\n          </div>\n\n          {/* Check In/Out Card */}\n          <Card>\n            <CardHeader>\n              <CardTitle>आज की उपस्थिति / Today's Attendance</CardTitle>\n              <CardDescription>\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4\" />\n                  {currentTime.toLocaleDateString(\"hi-IN\", {\n                    weekday: \"long\",\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"numeric\",\n                  })}\n                </div>\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {todayAttendance && todayAttendance.check_in_time && (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between p-4 rounded-lg bg-green-500/10 border border-green-500/20\">\n                    <div className=\"flex items-center gap-3\">\n                      <CheckCircle className=\"h-8 w-8 text-green-600\" />\n                      <div>\n                        <p className=\"font-medium text-green-900 dark:text-green-100\">चेक इन किया / Checked In</p>\n                        <p className=\"text-sm text-green-700 dark:text-green-300\">\n                          {new Date(todayAttendance.check_in_time).toLocaleTimeString(\"hi-IN\")}\n                        </p>\n                      </div>\n                    </div>\n                    {todayAttendance.check_out_time && (\n                      <Badge variant=\"secondary\" className=\"bg-green-600 text-white\">\n                        Completed\n                      </Badge>\n                    )}\n                  </div>\n\n                  {liveDuration !== null && (\n                    <div className=\"flex items-center justify-between p-4 rounded-lg bg-blue-500/10 border border-blue-500/20\">\n                      <div className=\"flex items-center gap-3\">\n                        <Clock className=\"h-8 w-8 text-blue-600 animate-pulse\" />\n                        <div>\n                          <p className=\"font-medium text-blue-900 dark:text-blue-100\">Active Session</p>\n                          <p className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">\n                            {formatDuration(liveDuration)}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {todayAttendance.check_out_time && (\n                    <div className=\"flex items-center justify-between p-4 rounded-lg bg-muted\">\n                      <div className=\"flex items-center gap-3\">\n                        <CheckCircle className=\"h-8 w-8 text-muted-foreground\" />\n                        <div>\n                          <p className=\"font-medium\">चेक आउट किया / Checked Out</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(todayAttendance.check_out_time).toLocaleTimeString(\"hi-IN\")}\n                          </p>\n                        </div>\n                      </div>\n                      {todayAttendance.duration_minutes && (\n                        <div className=\"text-right\">\n                          <p className=\"text-sm text-muted-foreground\">Total Duration</p>\n                          <p className=\"text-lg font-bold\">{formatDuration(todayAttendance.duration_minutes)}</p>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {todayAttendance.location && (\n                    <div className=\"flex items-start gap-2 p-3 rounded-lg bg-muted/50 border\">\n                      <MapPin className=\"h-4 w-4 mt-0.5 text-primary\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium\">Check-in Location</p>\n                        <p className=\"text-sm text-muted-foreground mt-1\">\n                          {todayAttendance.location.locationName ||\n                            `${todayAttendance.location.latitude.toFixed(6)}, ${todayAttendance.location.longitude.toFixed(6)}`}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {error && <div className=\"p-3 rounded-lg bg-destructive/10 text-destructive text-sm\">{error}</div>}\n\n              <div className=\"flex gap-3\">\n                {!todayAttendance || !todayAttendance.check_in_time ? (\n                  <Button onClick={handleCheckIn} disabled={isLoading} className=\"flex-1\" size=\"lg\">\n                    {isLoading ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                        चेक इन हो रहा है...\n                      </>\n                    ) : (\n                      <>\n                        <Clock className=\"mr-2 h-5 w-5\" />\n                        चेक इन करें / Check In\n                      </>\n                    )}\n                  </Button>\n                ) : !todayAttendance.check_out_time ? (\n                  <Button\n                    onClick={handleCheckOut}\n                    disabled={isLoading}\n                    className=\"flex-1\"\n                    size=\"lg\"\n                    variant=\"destructive\"\n                  >\n                    {isLoading ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                        चेक आउट हो रहा है...\n                      </>\n                    ) : (\n                      <>\n                        <Clock className=\"mr-2 h-5 w-5\" />\n                        चेक आउट करें / Check Out\n                      </>\n                    )}\n                  </Button>\n                ) : (\n                  <div className=\"flex-1 p-4 rounded-lg bg-green-500/10 text-green-700 dark:text-green-400 text-center font-medium border border-green-500/20\">\n                    ✓ आज की उपस्थिति दर्ज / Attendance marked for today\n                  </div>\n                )}\n              </div>\n\n              <p className=\"text-xs text-muted-foreground text-center\">\n                Location name will be captured automatically when available\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>उपस्थिति इतिहास / Attendance History</CardTitle>\n              <CardDescription>Your recent check-ins and check-outs</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {attendanceHistory.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\n                  <Clock className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                  <p className=\"text-sm text-muted-foreground\">No attendance records yet</p>\n                  <p className=\"text-xs text-muted-foreground mt-1\">Check in to start tracking your attendance</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {attendanceHistory.map((record) => (\n                    <div\n                      key={record.id}\n                      className=\"flex items-center justify-between p-4 rounded-lg border border-border hover:bg-muted/50 transition-colors\"\n                    >\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                          <p className=\"font-medium\">\n                            {new Date(record.date).toLocaleDateString(\"hi-IN\", {\n                              weekday: \"short\",\n                              day: \"numeric\",\n                              month: \"short\",\n                              year: \"numeric\",\n                            })}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Clock className=\"h-3 w-3\" />\n                            In: {new Date(record.check_in_time).toLocaleTimeString(\"hi-IN\")}\n                          </span>\n                          {record.check_out_time && (\n                            <>\n                              <span>→</span>\n                              <span className=\"flex items-center gap-1\">\n                                <Clock className=\"h-3 w-3\" />\n                                Out: {new Date(record.check_out_time).toLocaleTimeString(\"hi-IN\")}\n                              </span>\n                            </>\n                          )}\n                        </div>\n                        {record.location?.locationName && (\n                          <div className=\"flex items-center gap-1 text-xs text-muted-foreground mt-1\">\n                            <MapPin className=\"h-3 w-3\" />\n                            {record.location.locationName}\n                          </div>\n                        )}\n                        {record.duration_minutes && (\n                          <p className=\"text-sm font-medium text-blue-600 dark:text-blue-400 mt-1\">\n                            Duration: {formatDuration(record.duration_minutes)}\n                          </p>\n                        )}\n                      </div>\n                      <div>\n                        {record.check_out_time ? (\n                          <Badge variant=\"secondary\" className=\"bg-green-500/10 text-green-700\">\n                            पूर्ण / Complete\n                          </Badge>\n                        ) : (\n                          <Badge variant=\"secondary\" className=\"bg-yellow-500/10 text-yellow-700\">\n                            प्रगति में / In Progress\n                          </Badge>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}