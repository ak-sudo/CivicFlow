module.exports=[5350,98895,82276,36249,84125,39425,a=>{"use strict";var b=a.i(4939),c=a.i(71288),d=a.i(11894),e=a.i(60029),f=a.i(75901),g=a.i(72497);let h=(0,g.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var i=a.i(18726);let j=(0,g.default)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var k=a.i(13781),l=a.i(80348);let m=(0,g.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);a.s(["Building2",()=>m],98895);let n=(0,g.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>n],82276);let o=(0,g.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>o],36249);let p=(0,g.default)("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);a.s(["ScrollText",()=>p],84125);var q=a.i(83432);function r(){let a=(0,d.usePathname)(),{t:g}=(0,q.useLanguage)(),r=[{name:g("admin.dashboard"),href:"/admin/dashboard",icon:h},{name:g("admin.reports"),href:"/admin/reports",icon:i.FileText},{name:g("admin.map"),href:"/admin/map",icon:j},{name:g("admin.review"),href:"/admin/review",icon:k.AlertCircle},{name:g("admin.workers"),href:"/admin/workers",icon:l.Users},{name:g("admin.departments"),href:"/admin/departments",icon:m},{name:g("admin.analytics"),href:"/admin/analytics",icon:n},{name:g("admin.audit"),href:"/admin/audit",icon:p},{name:g("admin.settings"),href:"/admin/settings",icon:o}];return(0,b.jsxs)("aside",{className:"hidden lg:flex flex-col w-64 pb-3 bg-muted/30 fixed h-screen overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.default,{src:"/civiflow-logo.png",alt:"CivicFlow Logo",width:36,height:36,className:"object-contain"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-lg",children:g("app.name")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:g("admin.panel")})]})]})}),(0,b.jsx)("nav",{className:"flex-1 px-4 space-y-1",children:r.map(d=>{let f=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:(0,e.cn)("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",f?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,b.jsx)(d.icon,{className:"h-5 w-5"}),d.name]},d.href)})})]})}a.s(["AdminSidebar",()=>r],5350);var s=a.i(4175),t=a.i(85815),u=a.i(70832);let v=(0,g.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var w=a.i(42139),x=a.i(7176),y=a.i(2080),z=a.i(2300);let A=(0,g.default)("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);function B(){let{language:a,setLanguage:c}=(0,q.useLanguage)();return(0,b.jsxs)(y.DropdownMenu,{children:[(0,b.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(s.Button,{variant:"ghost",size:"icon",className:"relative",children:(0,b.jsx)(A,{className:"h-5 w-5"})})}),(0,b.jsxs)(y.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(y.DropdownMenuItem,{onClick:()=>c("en"),className:"en"===a?"bg-accent":"",children:"English"}),(0,b.jsx)(y.DropdownMenuItem,{onClick:()=>c("hi"),className:"hi"===a?"bg-accent":"",children:"हिंदी (Hindi)"})]})]})}var C=a.i(43443),D=a.i(47954),E=a.i(78628),F=a.i(40605),G=a.i(12962),H=a.i(39741),I=a.i(52408),J=a.i(81520),K=a.i(70441),L=a.i(22727),M=a.i(57581),N=a.i(15820),O=a.i(29540),P=a.i(65883),Q=a.i(42574),R=a.i(69503),S=a.i(22053),T="Popover",[U,V]=(0,G.createContextScope)(T,[L.createPopperScope]),W=(0,L.createPopperScope)(),[X,Y]=U(T),Z=a=>{let{__scopePopover:c,children:d,open:e,defaultOpen:f,onOpenChange:g,modal:h=!1}=a,i=W(c),j=C.useRef(null),[k,l]=C.useState(!1),[m=!1,n]=(0,Q.useControllableState)({prop:e,defaultProp:f,onChange:g});return(0,b.jsx)(L.Root,{...i,children:(0,b.jsx)(X,{scope:c,contentId:(0,K.useId)(),triggerRef:j,open:m,onOpenChange:n,onOpenToggle:C.useCallback(()=>n(a=>!a),[n]),hasCustomAnchor:k,onCustomAnchorAdd:C.useCallback(()=>l(!0),[]),onCustomAnchorRemove:C.useCallback(()=>l(!1),[]),modal:h,children:d})})};Z.displayName=T;var $="PopoverAnchor";C.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=Y($,d),g=W(d),{onCustomAnchorAdd:h,onCustomAnchorRemove:i}=f;return C.useEffect(()=>(h(),()=>i()),[h,i]),(0,b.jsx)(L.Anchor,{...g,...e,ref:c})}).displayName=$;var _="PopoverTrigger",aa=C.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=Y(_,d),g=W(d),h=(0,F.useComposedRefs)(c,f.triggerRef),i=(0,b.jsx)(O.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":al(f.open),...e,ref:h,onClick:(0,E.composeEventHandlers)(a.onClick,f.onOpenToggle)});return f.hasCustomAnchor?i:(0,b.jsx)(L.Anchor,{asChild:!0,...g,children:i})});aa.displayName=_;var ab="PopoverPortal",[ac,ad]=U(ab,{forceMount:void 0}),ae=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=Y(ab,c);return(0,b.jsx)(ac,{scope:c,forceMount:d,children:(0,b.jsx)(N.Presence,{present:d||g.open,children:(0,b.jsx)(M.Portal,{asChild:!0,container:f,children:e})})})};ae.displayName=ab;var af="PopoverContent",ag=C.forwardRef((a,c)=>{let d=ad(af,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=Y(af,a.__scopePopover);return(0,b.jsx)(N.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(ah,{...f,ref:c}):(0,b.jsx)(ai,{...f,ref:c})})});ag.displayName=af;var ah=C.forwardRef((a,c)=>{let d=Y(af,a.__scopePopover),e=C.useRef(null),f=(0,F.useComposedRefs)(c,e),g=C.useRef(!1);return C.useEffect(()=>{let a=e.current;if(a)return(0,R.hideOthers)(a)},[]),(0,b.jsx)(S.RemoveScroll,{as:P.Slot,allowPinchZoom:!0,children:(0,b.jsx)(aj,{...a,ref:f,trapFocus:d.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,E.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),g.current||d.triggerRef.current?.focus()}),onPointerDownOutside:(0,E.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;g.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,E.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ai=C.forwardRef((a,c)=>{let d=Y(af,a.__scopePopover),e=C.useRef(!1),f=C.useRef(!1);return(0,b.jsx)(aj,{...a,ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(e.current||d.triggerRef.current?.focus(),b.preventDefault()),e.current=!1,f.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(e.current=!0,"pointerdown"===b.detail.originalEvent.type&&(f.current=!0));let c=b.target;d.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&f.current&&b.preventDefault()}})}),aj=C.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onInteractOutside:l,...m}=a,n=Y(af,d),o=W(d);return(0,I.useFocusGuards)(),(0,b.jsx)(J.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(H.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onDismiss:()=>n.onOpenChange(!1),children:(0,b.jsx)(L.Content,{"data-state":al(n.open),role:"dialog",id:n.contentId,...o,...m,ref:c,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ak="PopoverClose";function al(a){return a?"open":"closed"}function am({...a}){return(0,b.jsx)(Z,{"data-slot":"popover",...a})}function an({...a}){return(0,b.jsx)(aa,{"data-slot":"popover-trigger",...a})}function ao({className:a,align:c="center",sideOffset:d=4,...f}){return(0,b.jsx)(ae,{children:(0,b.jsx)(ag,{"data-slot":"popover-content",align:c,sideOffset:d,className:(0,e.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...f})})}C.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=Y(ak,d);return(0,b.jsx)(O.Primitive.button,{type:"button",...e,ref:c,onClick:(0,E.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=ak,C.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=W(d);return(0,b.jsx)(L.Arrow,{...f,...e,ref:c})}).displayName="PopoverArrow";var ap=a.i(35595);function aq({userName:a,unreadCount:c,onSearch:e}){let f=(0,d.useRouter)(),{t:g}=(0,q.useLanguage)(),[h,i]=(0,C.useState)(""),[j,k]=(0,C.useState)([]),[l,m]=(0,C.useState)(c||0);return(0,C.useEffect)(()=>{let a=()=>{let a=(0,D.getReportsFromStorage)().filter(a=>{let b=new Date(a.created_at);return(new Date().getTime()-b.getTime())/1e3/60<60}).map(a=>({id:a.id,title:`New Report: ${a.category||"Unknown"}`,message:a.complaint_text.slice(0,80)+"...",created_at:a.created_at,type:"new_report",severity:a.severity_level}));k(a),m(a.length)};a();let b=()=>{a()};return window.addEventListener("reportsUpdated",b),()=>window.removeEventListener("reportsUpdated",b)},[]),(0,b.jsx)("header",{className:"sticky top-0 z-40 border-b border-border bg-background",children:(0,b.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 flex-1 max-w-2xl",children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e&&e(h)},className:"relative flex-1",children:[(0,b.jsx)(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(t.Input,{placeholder:g("search.placeholder"),className:"pl-9",value:h,onChange:a=>i(a.target.value)})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(B,{}),(0,b.jsxs)(am,{children:[(0,b.jsx)(an,{asChild:!0,children:(0,b.jsxs)(s.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,b.jsx)(u.Bell,{className:"h-5 w-5"}),l>0&&(0,b.jsx)(z.Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:l})]})}),(0,b.jsxs)(ao,{className:"w-80 p-0",align:"end",children:[(0,b.jsxs)("div",{className:"p-4 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Notifications"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[l," new notifications"]})]}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===j.length?(0,b.jsx)("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"No new notifications"}):j.map(a=>(0,b.jsx)("div",{className:"p-4 border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>f.push(`/admin/reports/${a.id}`),children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(u.Bell,{className:"h-4 w-4 text-primary mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(a.created_at).toLocaleString()})]}),a.severity&&(0,b.jsx)(z.Badge,{variant:"secondary",className:"critical"===a.severity?"bg-red-500/10 text-red-700":"high"===a.severity?"bg-orange-500/10 text-orange-700":"bg-yellow-500/10 text-yellow-700",children:a.severity})]})},a.id))})]})]}),(0,b.jsxs)(y.DropdownMenu,{children:[(0,b.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(s.Button,{variant:"ghost",className:"gap-2",children:[(0,b.jsx)(w.User,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"hidden md:inline",children:a})]})}),(0,b.jsxs)(y.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,b.jsx)(y.DropdownMenuLabel,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:g("admin.panel")})]})}),(0,b.jsx)(y.DropdownMenuSeparator,{}),(0,b.jsxs)(y.DropdownMenuItem,{onClick:()=>f.push("/"),className:"text-destructive",children:[(0,b.jsx)(x.LogOut,{className:"mr-2 h-4 w-4"}),g("action.logout")]})]})]}),(0,b.jsx)(ap.RoleSwitcher,{})]})]})})}a.s(["AdminTopNav",()=>aq],39425)}];

//# sourceMappingURL=Downloads_geminiaiintegration_components_admin_sidebar_tsx_3dec8996._.js.map