(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42584,e=>{"use strict";let t=(0,e.i(68385).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],42584)},42972,e=>{"use strict";var t=e.i(51537),a=e.i(52299);function s({className:e,type:s,...i}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>s])},37872,e=>{"use strict";var t=e.i(51537),a=e.i(58987),s=e.i(84085),i=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var r=e.i(52299);function l({className:e,...a}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>l],37872)},14471,e=>{"use strict";let t="civicflow_user_profile";function a(){try{let e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}}function s(e){try{localStorage.setItem(t,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:{profile:e}}))}catch(e){console.error("Failed to save profile to localStorage:",e)}}function i(){let e={id:"user_"+Date.now(),full_name:"Amit Verma",email:"amit.verma@example.com",phone:"+91 98765 43210",address:"Connaught Place, New Delhi, Delhi 110001",role:"citizen",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t=a();return t||s(e),t||e}e.s(["getProfileFromStorage",()=>a,"initializeDefaultProfile",()=>i,"saveProfileToStorage",()=>s])},2436,59317,e=>{"use strict";var t=e.i(51537),a=e.i(43638),s=e.i(80486),i=e.i(32749),r=e.i(87672),l=e.i(3305),n=e.i(3908),d=e.i(14782),o=e.i(9704),c=e.i(73183),m=e.i(16221),u=e.i(58987);let h="civicflow_worker_notifications";function x(e){try{let t=localStorage.getItem(h);return(t?JSON.parse(t):[]).filter(t=>t.worker_id===e).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}catch{return[]}}function f(e){try{let t=localStorage.getItem(h),a=(t?JSON.parse(t):[]).map(t=>t.id===e?{...t,is_read:!0}:t);localStorage.setItem(h,JSON.stringify(a)),window.dispatchEvent(new CustomEvent("workerNotificationUpdated"))}catch(e){console.error("Failed to mark notification as read:",e)}}function p(e){try{let t=localStorage.getItem(h),a=(t?JSON.parse(t):[]).filter(t=>t.id!==e);localStorage.setItem(h,JSON.stringify(a)),window.dispatchEvent(new CustomEvent("workerNotificationUpdated"))}catch(e){console.error("Failed to delete notification:",e)}}function g(e){try{let t=localStorage.getItem(h),a=(t?JSON.parse(t):[]).map(t=>t.worker_id===e?{...t,is_read:!0}:t);localStorage.setItem(h,JSON.stringify(a)),window.dispatchEvent(new CustomEvent("workerNotificationUpdated"))}catch(e){console.error("Failed to mark all notifications as read:",e)}}function j(e){return x(e).filter(e=>!e.is_read).length}e.s(["deleteWorkerNotification",()=>p,"getUnreadWorkerNotificationCount",()=>j,"getWorkerNotifications",()=>x,"markAllWorkerNotificationsAsRead",()=>g,"markWorkerNotificationAsRead",()=>f],59317);var v=e.i(14471),N=e.i(22869);function w({userName:e}){let h=(0,m.useRouter)(),[x,f]=(0,u.useState)(0),p=(0,v.getProfileFromStorage)(),g=p?.id||"worker_default";(0,u.useEffect)(()=>{let e=()=>{f(j(g))};return e(),window.addEventListener("workerNotificationAdded",e),window.addEventListener("workerNotificationUpdated",e),()=>{window.removeEventListener("workerNotificationAdded",e),window.removeEventListener("workerNotificationUpdated",e)}},[g]);let w=async()=>{let e=(0,c.createClient)();await e.auth.signOut(),h.push("/")};return(0,t.jsx)("header",{className:"sticky top-0 z-40 border-b border-border bg-background",children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[(0,t.jsxs)(a.default,{href:"/citizen/dashboard",className:"flex items-center gap-2",children:[(0,t.jsx)(n.default,{src:"/civiflow-logo.png",alt:"CivicFlow Logo",width:36,height:36,className:"object-contain"}),(0,t.jsx)("span",{className:"text-xl font-bold hidden sm:inline",children:"CivicFlow"})]}),(0,t.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,t.jsx)(a.default,{href:"/worker/dashboard",className:"text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"}),(0,t.jsx)(a.default,{href:"/worker/tasks",className:"text-sm font-medium hover:text-primary transition-colors",children:"My Tasks"}),(0,t.jsx)(a.default,{href:"/worker/attendance",className:"text-sm font-medium hover:text-primary transition-colors",children:"Attendance"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/worker/notifications",children:[(0,t.jsx)(i.Bell,{className:"h-5 w-5"}),x>0&&(0,t.jsx)(o.Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:x})]})}),(0,t.jsxs)(d.DropdownMenu,{children:[(0,t.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(r.User,{className:"h-5 w-5"})})}),(0,t.jsxs)(d.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,t.jsx)(d.DropdownMenuLabel,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Worker Account"})]})}),(0,t.jsx)(d.DropdownMenuSeparator,{}),(0,t.jsx)(d.DropdownMenuItem,{asChild:!0,children:(0,t.jsx)(a.default,{href:"/worker/profile",children:"Profile Settings"})}),(0,t.jsx)(d.DropdownMenuSeparator,{}),(0,t.jsxs)(d.DropdownMenuItem,{onClick:w,className:"text-destructive",children:[(0,t.jsx)(l.LogOut,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),(0,t.jsx)(N.RoleSwitcher,{})]})]})})}e.s(["WorkerNavHeader",()=>w],2436)},74790,e=>{"use strict";let t=(0,e.i(68385).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],74790)},65241,e=>{"use strict";let t=(0,e.i(68385).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],65241)},24852,e=>{"use strict";var t=e.i(51537),a=e.i(58987),s=e.i(2436),i=e.i(98121),r=e.i(80486),l=e.i(42972),n=e.i(37872),d=e.i(9704),o=e.i(87672),c=e.i(74790),m=e.i(65241),u=e.i(42584),h=e.i(68385);let x=(0,h.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),f=(0,h.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function p(){let[e,h]=(0,a.useState)({full_name:"अजय सिंह / Ajay Singh",email:"ajay.singh@civicflow.gov.in",phone:"+91 98765 43210",department:"PWD (सार्वजनिक निर्माण विभाग)",employee_id:"PWD2024-1247",address:"Sector 15, Rohini, New Delhi, Delhi 110085",total_completed_tasks:142,average_rating:4.7,joined_date:"15 Jan 2023"}),[p,g]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(s.WorkerNavHeader,{userName:e.full_name}),(0,t.jsx)("main",{className:"container px-4 md:px-6 py-8",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"प्रोफ़ाइल / Profile"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"View and manage your worker profile"})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(o.User,{className:"h-8 w-8 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{children:e.full_name}),(0,t.jsx)(i.CardDescription,{children:e.department})]})]}),(0,t.jsx)(r.Button,{variant:p?"default":"outline",onClick:()=>g(!p),children:p?"सहेजें / Save":"संपादित करें / Edit"})]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"व्यक्तिगत जानकारी / Personal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"name",children:"पूरा नाम / Full Name"}),(0,t.jsx)(l.Input,{id:"name",value:e.full_name,disabled:!p,onChange:t=>h({...e,full_name:t.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"employee_id",children:"कर्मचारी आईडी / Employee ID"}),(0,t.jsx)(l.Input,{id:"employee_id",value:e.employee_id,disabled:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"email",children:"ईमेल / Email"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"email",type:"email",value:e.email,disabled:!p,onChange:t=>h({...e,email:t.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"phone",children:"फ़ोन / Phone"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"phone",value:e.phone,disabled:!p,onChange:t=>h({...e,phone:t.target.value})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"address",children:"पता / Address"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"address",value:e.address,disabled:!p,onChange:t=>h({...e,address:t.target.value})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-6 border-t",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"कार्य सांख्यिकी / Work Statistics"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"विभाग / Department"})]}),(0,t.jsx)("p",{className:"font-semibold",children:e.department})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,t.jsx)(f,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"औसत रेटिंग / Avg Rating"})]}),(0,t.jsxs)("p",{className:"font-semibold",children:[e.average_rating," / 5.0"]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"कुल कार्य / Total Tasks"})]}),(0,t.jsx)("p",{className:"font-semibold",children:e.total_completed_tasks})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-6 border-t",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"रोजगार जानकारी / Employment Information"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"शामिल हुए / Joined"}),(0,t.jsx)("p",{className:"font-semibold",children:e.joined_date})]}),(0,t.jsx)(d.Badge,{variant:"secondary",className:"bg-green-500/10 text-green-700",children:"सक्रिय / Active"})]})]})]})]})]})})]})}e.s(["default",()=>p],24852)}]);