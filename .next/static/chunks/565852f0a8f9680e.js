(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42584,e=>{"use strict";let t=(0,e.i(68385).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],42584)},42972,e=>{"use strict";var t=e.i(51537),s=e.i(52299);function a({className:e,type:a,...i}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>a])},14471,e=>{"use strict";let t="civicflow_user_profile";function s(){try{let e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}}function a(e){try{localStorage.setItem(t,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:{profile:e}}))}catch(e){console.error("Failed to save profile to localStorage:",e)}}function i(){let e={id:"user_"+Date.now(),full_name:"Amit Verma",email:"amit.verma@example.com",phone:"+91 98765 43210",address:"Connaught Place, New Delhi, Delhi 110001",role:"citizen",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t=s();return t||a(e),t||e}e.s(["getProfileFromStorage",()=>s,"initializeDefaultProfile",()=>i,"saveProfileToStorage",()=>a])},64490,e=>{"use strict";var t=e.i(51537),s=e.i(43638),a=e.i(80486),i=e.i(32749),r=e.i(87672),l=e.i(3305),n=e.i(52264),o=e.i(14782),d=e.i(9704),c=e.i(73183),u=e.i(16221),m=e.i(3908),h=e.i(22869);function x({userName:e,unreadCount:x=0}){let p=(0,u.useRouter)(),f=async()=>{let e=(0,c.createClient)();await e.auth.signOut(),p.push("/")};return(0,t.jsx)("header",{className:"sticky top-0 z-40 border-b border-border bg-background",children:(0,t.jsxs)("div",{className:"container max-w-7xl mx-auto flex h-16 items-center justify-between px-4 md:px-6",children:[(0,t.jsxs)(s.default,{href:"/citizen/dashboard",className:"flex items-center gap-2",children:[(0,t.jsx)(m.default,{src:"/civiflow-logo.png",alt:"CivicFlow Logo",width:36,height:36,className:"object-contain"}),(0,t.jsx)("span",{className:"text-xl font-bold hidden sm:inline",children:"CivicFlow"})]}),(0,t.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,t.jsx)(s.default,{href:"/citizen/dashboard",className:"text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"}),(0,t.jsxs)(s.default,{href:"/civicbook",className:"text-sm font-medium hover:text-primary transition-colors flex items-center gap-1",children:[(0,t.jsx)(n.Home,{className:"h-4 w-4"}),"CivicBook"]}),(0,t.jsx)(s.default,{href:"/citizen/report",className:"text-sm font-medium hover:text-primary transition-colors",children:"Report Issue"}),(0,t.jsx)(s.default,{href:"/citizen/my-reports",className:"text-sm font-medium hover:text-primary transition-colors",children:"My Reports"}),(0,t.jsx)(s.default,{href:"/citizen/incentives",className:"text-sm font-medium hover:text-primary transition-colors",children:"Incentives"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:(0,t.jsxs)(s.default,{href:"/citizen/notifications",children:[(0,t.jsx)(i.Bell,{className:"h-5 w-5"}),x>0&&(0,t.jsx)(d.Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:x})]})}),(0,t.jsxs)(o.DropdownMenu,{children:[(0,t.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(r.User,{className:"h-5 w-5"})})}),(0,t.jsxs)(o.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,t.jsx)(o.DropdownMenuLabel,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Citizen Account"})]})}),(0,t.jsx)(o.DropdownMenuSeparator,{}),(0,t.jsx)(o.DropdownMenuItem,{asChild:!0,children:(0,t.jsx)(s.default,{href:"/citizen/profile",children:"Profile Settings"})}),(0,t.jsx)(o.DropdownMenuSeparator,{}),(0,t.jsxs)(o.DropdownMenuItem,{onClick:f,className:"text-destructive",children:[(0,t.jsx)(l.LogOut,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),(0,t.jsx)(h.RoleSwitcher,{})]})]})})}e.s(["NavHeader",()=>x])},37872,e=>{"use strict";var t=e.i(51537),s=e.i(58987),a=e.i(84085),i=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var r=e.i(52299);function l({className:e,...s}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>l],37872)},74790,e=>{"use strict";let t=(0,e.i(68385).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],74790)},65241,e=>{"use strict";let t=(0,e.i(68385).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],65241)},21267,e=>{"use strict";var t=e.i(58987);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},r=[],l={toasts:[]};function n(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),r.forEach(e=>{e(l)})}function o({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>n({type:"DISMISS_TOAST",toastId:t});return n({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,s]=t.useState(l);return t.useEffect(()=>(r.push(s),()=>{let e=r.indexOf(s);e>-1&&r.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>d])},65976,e=>{"use strict";var t=e.i(51537),s=e.i(58987),a=e.i(64490),i=e.i(98121),r=e.i(80486),l=e.i(42972),n=e.i(37872),o=e.i(87672),d=e.i(74790),c=e.i(65241),u=e.i(42584);let m=(0,e.i(68385).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=e.i(14471),x=e.i(21267);function p(){let[e,p]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),[g,j]=(0,s.useState)({full_name:"",email:"",phone:"",address:""}),{toast:N}=(0,x.useToast)();return((0,s.useEffect)(()=>{let e=(0,h.getProfileFromStorage)()||(0,h.initializeDefaultProfile)();p(e),j({full_name:e.full_name,email:e.email,phone:e.phone||"",address:e.address||""})},[]),e)?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(a.NavHeader,{userName:e.full_name,unreadCount:0}),(0,t.jsx)("main",{className:"container px-4 md:px-6 py-8 max-w-3xl mx-auto",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Profile Settings / प्रोफ़ाइल सेटिंग्स"}),(0,t.jsx)(i.CardDescription,{children:"Manage your account information / अपनी खाता जानकारी प्रबंधित करें"})]}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(o.User,{className:"w-12 h-12 text-primary"})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"full_name",children:"Full Name / पूरा नाम"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.User,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"full_name",value:g.full_name,onChange:e=>j({...g,full_name:e.target.value}),disabled:!f,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"email",children:"Email / ईमेल"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Mail,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"email",type:"email",value:g.email,onChange:e=>j({...g,email:e.target.value}),disabled:!f,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"phone",children:"Phone / फोन"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Phone,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"phone",type:"tel",value:g.phone,onChange:e=>j({...g,phone:e.target.value}),disabled:!f,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"address",children:"Address / पता"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{id:"address",value:g.address,onChange:e=>j({...g,address:e.target.value}),disabled:!f,className:"pl-10"})]})]})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Button,{onClick:()=>{if(!e)return;let t={...e,...g,updated_at:new Date().toISOString()};(0,h.saveProfileToStorage)(t),p(t),v(!1),N({title:"Profile Updated",description:"Your profile has been successfully updated."})},className:"flex-1",children:[(0,t.jsx)(m,{className:"mr-2 h-4 w-4"}),"Save Changes / बदलाव सहेजें"]}),(0,t.jsx)(r.Button,{onClick:()=>v(!1),variant:"outline",className:"flex-1",children:"Cancel / रद्द करें"})]}):(0,t.jsx)(r.Button,{onClick:()=>v(!0),className:"w-full",children:"Edit Profile / प्रोफ़ाइल संपादित करें"})})]})]})})]}):null}e.s(["default",()=>p],65976)}]);