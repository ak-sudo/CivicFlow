(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8673,e=>{"use strict";let s="civicflow_reports";function a(){try{let e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch{return[]}}function i(e){try{let i=a();e.timeline||(e.timeline=[{id:`timeline_${Date.now()}`,action:"Report submitted",created_at:new Date().toISOString(),actor_name:e.profiles?.full_name||"Citizen",details:{category:e.category,severity:e.severity_level,ai_confidence:e.ai_analysis?.category_confidence}}]),i.unshift(e),localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new CustomEvent("reportsUpdated",{detail:{reports:i}}))}catch(e){console.error("Failed to save report to localStorage:",e)}}function t(e,i){try{let t=a(),r=t.findIndex(s=>s.id===e);if(-1!==r){if(i.status&&i.status!==t[r].status){let e={id:`timeline_${Date.now()}`,action:`Status changed to ${i.status}`,created_at:new Date().toISOString(),actor_name:"completed"===i.status?"Worker":"System"};t[r].timeline=t[r].timeline||[],t[r].timeline.unshift(e)}("completed"===i.status||"verified"===i.status)&&(i.verified_at=new Date().toISOString()),t[r]={...t[r],...i,updated_at:new Date().toISOString()},localStorage.setItem(s,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("reportsUpdated",{detail:{reports:t}}))}}catch(e){console.error("Failed to update report in localStorage:",e)}}function r(e){return a().find(s=>s.id===e)||null}e.s(["getReportById",()=>r,"getReportsFromStorage",()=>a,"saveReportToStorage",()=>i,"updateReportInStorage",()=>t])},42584,e=>{"use strict";let s=(0,e.i(68385).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],42584)},9803,e=>{"use strict";let s=(0,e.i(68385).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],9803)},31161,e=>{"use strict";let s=(0,e.i(68385).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],31161)},64490,e=>{"use strict";var s=e.i(51537),a=e.i(43638),i=e.i(80486),t=e.i(32749),r=e.i(87672),n=e.i(3305),d=e.i(52264),l=e.i(14782),c=e.i(9704),o=e.i(73183),m=e.i(16221),x=e.i(3908),h=e.i(22869);function u({userName:e,unreadCount:u=0}){let p=(0,m.useRouter)(),_=async()=>{let e=(0,o.createClient)();await e.auth.signOut(),p.push("/")};return(0,s.jsx)("header",{className:"sticky top-0 z-40 border-b border-border bg-background",children:(0,s.jsxs)("div",{className:"container max-w-7xl mx-auto flex h-16 items-center justify-between px-4 md:px-6",children:[(0,s.jsxs)(a.default,{href:"/citizen/dashboard",className:"flex items-center gap-2",children:[(0,s.jsx)(x.default,{src:"/civiflow-logo.png",alt:"CivicFlow Logo",width:36,height:36,className:"object-contain"}),(0,s.jsx)("span",{className:"text-xl font-bold hidden sm:inline",children:"CivicFlow"})]}),(0,s.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,s.jsx)(a.default,{href:"/citizen/dashboard",className:"text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"}),(0,s.jsxs)(a.default,{href:"/civicbook",className:"text-sm font-medium hover:text-primary transition-colors flex items-center gap-1",children:[(0,s.jsx)(d.Home,{className:"h-4 w-4"}),"CivicBook"]}),(0,s.jsx)(a.default,{href:"/citizen/report",className:"text-sm font-medium hover:text-primary transition-colors",children:"Report Issue"}),(0,s.jsx)(a.default,{href:"/citizen/my-reports",className:"text-sm font-medium hover:text-primary transition-colors",children:"My Reports"}),(0,s.jsx)(a.default,{href:"/citizen/incentives",className:"text-sm font-medium hover:text-primary transition-colors",children:"Incentives"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(i.Button,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:(0,s.jsxs)(a.default,{href:"/citizen/notifications",children:[(0,s.jsx)(t.Bell,{className:"h-5 w-5"}),u>0&&(0,s.jsx)(c.Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:u})]})}),(0,s.jsxs)(l.DropdownMenu,{children:[(0,s.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(r.User,{className:"h-5 w-5"})})}),(0,s.jsxs)(l.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,s.jsx)(l.DropdownMenuLabel,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Citizen Account"})]})}),(0,s.jsx)(l.DropdownMenuSeparator,{}),(0,s.jsx)(l.DropdownMenuItem,{asChild:!0,children:(0,s.jsx)(a.default,{href:"/citizen/profile",children:"Profile Settings"})}),(0,s.jsx)(l.DropdownMenuSeparator,{}),(0,s.jsxs)(l.DropdownMenuItem,{onClick:_,className:"text-destructive",children:[(0,s.jsx)(n.LogOut,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),(0,s.jsx)(h.RoleSwitcher,{})]})]})})}e.s(["NavHeader",()=>u])},32617,e=>{"use strict";let s=(0,e.i(68385).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],32617)},52234,e=>{"use strict";let s=(0,e.i(68385).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],52234)},35515,e=>{"use strict";var s=e.i(51537),a=e.i(58987),i=e.i(16221),t=e.i(64490),r=e.i(98121),n=e.i(9704),d=e.i(42584),l=e.i(31161),c=e.i(32617),o=e.i(9803),m=e.i(52234),x=e.i(80486),h=e.i(8673);function u(){let e=(0,i.useParams)().id,u=(0,i.useRouter)(),[p,_]=(0,a.useState)(null),[g,j]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{let s=()=>{let s=(0,h.getReportById)(e);s?(_(s),j(!1)):u.push("/citizen/my-reports")};s();let a=()=>{s()};return window.addEventListener("reportsUpdated",a),()=>window.removeEventListener("reportsUpdated",a)},[e,u]),g)return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(t.NavHeader,{userName:"Loading...",unreadCount:0}),(0,s.jsx)("main",{className:"container px-4 md:px-6 py-8",children:(0,s.jsx)("div",{className:"text-center py-12",children:"Loading report details..."})})]});if(!p)return null;let y={submitted:"bg-blue-500/10 text-blue-700",assigned:"bg-purple-500/10 text-purple-700",in_progress:"bg-yellow-500/10 text-yellow-700",completed:"bg-green-500/10 text-green-700",verified:"bg-green-600/10 text-green-800",needs_human_review:"bg-orange-500/10 text-orange-700"};return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(t.NavHeader,{userName:p.profiles?.full_name||"Demo Citizen",unreadCount:0}),(0,s.jsx)("main",{className:"container px-4 md:px-6 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(x.Button,{variant:"ghost",size:"icon",onClick:()=>u.back(),children:(0,s.jsx)(m.ArrowLeft,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Report Details"}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1",children:["ID: ",p.id.slice(0,8)]})]}),(0,s.jsx)(n.Badge,{variant:"outline",className:y[p.status],children:p.status.replace("_"," ")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[p.report_images&&p.report_images.length>0&&(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Images"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:p.report_images.map(e=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e.image_url||"/placeholder.svg",alt:"Report",className:"w-full h-64 object-cover rounded-lg"}),(0,s.jsx)(n.Badge,{className:"absolute top-2 right-2",children:e.image_type})]},e.id))})})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Issue Description"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("p",{className:"text-foreground leading-relaxed",children:p.complaint_text})})]}),p.ai_analysis&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"AI Analysis Results"}),(0,s.jsx)(r.CardDescription,{children:"Comprehensive automated assessment"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Detected Category"}),(0,s.jsx)("p",{className:"font-medium capitalize text-lg",children:p.ai_analysis.predicted_category?.replace("_"," ")||"Pending"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"}),(0,s.jsx)("p",{className:"font-medium text-lg",children:p.ai_analysis.category_confidence?`${Math.round(100*p.ai_analysis.category_confidence)}%`:"N/A"})]})]}),p.ai_analysis.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Description"}),(0,s.jsx)("p",{className:"text-foreground leading-relaxed",children:p.ai_analysis.description})]}),p.ai_analysis.measurements&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Measurements"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[p.ai_analysis.measurements.pothole_depth_cm&&(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pothole Depth"}),(0,s.jsxs)("p",{className:"font-semibold",children:[p.ai_analysis.measurements.pothole_depth_cm," cm"]})]}),p.ai_analysis.measurements.garbage_volume_cubic_meters&&(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Garbage Volume"}),(0,s.jsxs)("p",{className:"font-semibold",children:[p.ai_analysis.measurements.garbage_volume_cubic_meters," m³"]})]}),p.ai_analysis.measurements.affected_area_square_meters&&(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Affected Area"}),(0,s.jsxs)("p",{className:"font-semibold",children:[p.ai_analysis.measurements.affected_area_square_meters," m²"]})]}),p.ai_analysis.measurements.is_dead_animal&&(0,s.jsxs)("div",{className:"p-3 bg-red-500/10 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-red-700",children:"Dead Animal Detected"}),(0,s.jsx)("p",{className:"font-semibold text-red-700",children:"Yes"})]}),p.ai_analysis.measurements.is_low_light_area&&(0,s.jsxs)("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-yellow-700",children:"Low Light Area"}),(0,s.jsx)("p",{className:"font-semibold text-yellow-700",children:"Yes"})]})]})]}),p.ai_analysis.health_risks&&p.ai_analysis.health_risks.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Health Risks"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:p.ai_analysis.health_risks.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"destructive",children:e},a))})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Resolution Plan"}),(0,s.jsx)(r.CardDescription,{children:"Expected timeline and action steps"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Expected Resolution"}),(0,s.jsx)("p",{className:"font-medium",children:p.ai_analysis.expected_resolution_time||"Pending"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Assigned Department"}),(0,s.jsx)("p",{className:"font-medium",children:p.ai_analysis.assigned_department||"Pending"})]})]}),p.ai_analysis.possible_cause&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Possible Cause"}),(0,s.jsx)("p",{className:"text-foreground",children:p.ai_analysis.possible_cause})]}),p.ai_analysis.next_steps&&p.ai_analysis.next_steps.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Next Steps"}),(0,s.jsx)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.ai_analysis.next_steps.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]})]})]}),p.ai_analysis.work_order&&(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Work Order Details"}),(0,s.jsx)(r.CardDescription,{children:"Resource allocation and requirements"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Priority"}),(0,s.jsx)(n.Badge,{variant:"high"===p.ai_analysis.work_order.priority?"destructive":"secondary",children:p.ai_analysis.work_order.priority})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estimated Workers"}),(0,s.jsx)("p",{className:"font-medium",children:p.ai_analysis.work_order.estimated_workers||"TBD"})]}),p.ai_analysis.work_order.estimated_duration_hours&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Duration"}),(0,s.jsxs)("p",{className:"font-medium",children:[p.ai_analysis.work_order.estimated_duration_hours,"h"]})]})]}),p.ai_analysis.work_order.required_equipment&&p.ai_analysis.work_order.required_equipment.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Required Equipment"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:p.ai_analysis.work_order.required_equipment.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"outline",children:e},a))})]}),p.ai_analysis.work_order.safety_precautions&&p.ai_analysis.work_order.safety_precautions.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Safety Precautions"}),(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:p.ai_analysis.work_order.safety_precautions.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]}),p.ai_analysis.work_order.estimated_cost_inr&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,s.jsxs)("p",{className:"font-medium text-lg",children:["₹",p.ai_analysis.work_order.estimated_cost_inr]})]})]})]}),p.ai_analysis.root_cause_analysis&&(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Root Cause Analysis (Issue DNA)"}),(0,s.jsx)(r.CardDescription,{children:"Understanding the underlying problem"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[p.ai_analysis.root_cause_analysis.primary_cause&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Primary Cause"}),(0,s.jsx)("p",{className:"text-foreground",children:p.ai_analysis.root_cause_analysis.primary_cause})]}),p.ai_analysis.root_cause_analysis.contributing_factors&&p.ai_analysis.root_cause_analysis.contributing_factors.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Contributing Factors"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:p.ai_analysis.root_cause_analysis.contributing_factors.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"secondary",children:e},a))})]}),p.ai_analysis.root_cause_analysis.prevention_measures&&p.ai_analysis.root_cause_analysis.prevention_measures.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-2",children:"Prevention Measures"}),(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:p.ai_analysis.root_cause_analysis.prevention_measures.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[void 0!==p.ai_analysis.root_cause_analysis.recurring_issue&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recurring Issue"}),(0,s.jsx)(n.Badge,{variant:p.ai_analysis.root_cause_analysis.recurring_issue?"destructive":"secondary",children:p.ai_analysis.root_cause_analysis.recurring_issue?"Yes":"No"})]}),void 0!==p.ai_analysis.root_cause_analysis.similar_issues_in_area&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Similar Issues Nearby"}),(0,s.jsx)("p",{className:"font-medium",children:p.ai_analysis.root_cause_analysis.similar_issues_in_area})]})]})]})]}),p.ai_analysis.health_hazard_predictions&&(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Health Hazard Predictions"}),(0,s.jsx)(r.CardDescription,{children:"AI-predicted risk assessments"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mosquito Breeding Risk"}),(0,s.jsx)(n.Badge,{variant:"high"===p.ai_analysis.health_hazard_predictions.mosquito_breeding_risk?"destructive":"secondary",children:p.ai_analysis.health_hazard_predictions.mosquito_breeding_risk})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contamination Risk"}),(0,s.jsx)(n.Badge,{variant:"high"===p.ai_analysis.health_hazard_predictions.contamination_risk?"destructive":"secondary",children:p.ai_analysis.health_hazard_predictions.contamination_risk})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Accident Risk"}),(0,s.jsx)(n.Badge,{variant:"high"===p.ai_analysis.health_hazard_predictions.accident_risk?"destructive":"secondary",children:p.ai_analysis.health_hazard_predictions.accident_risk})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Crime Risk (Darkness)"}),(0,s.jsx)(n.Badge,{variant:"high"===p.ai_analysis.health_hazard_predictions.crime_risk_due_to_darkness?"destructive":"secondary",children:p.ai_analysis.health_hazard_predictions.crime_risk_due_to_darkness})]})]}),void 0!==p.ai_analysis.health_hazard_predictions.overall_risk_score&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Overall Risk Score"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-1 bg-muted rounded-full h-3 overflow-hidden",children:(0,s.jsx)("div",{className:`h-full ${p.ai_analysis.health_hazard_predictions.overall_risk_score>75?"bg-red-500":p.ai_analysis.health_hazard_predictions.overall_risk_score>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${p.ai_analysis.health_hazard_predictions.overall_risk_score}%`}})}),(0,s.jsxs)("span",{className:"font-semibold text-lg",children:[p.ai_analysis.health_hazard_predictions.overall_risk_score,"/100"]})]})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Timeline"}),(0,s.jsx)(r.CardDescription,{children:"Status updates and activity log"})]}),(0,s.jsx)(r.CardContent,{children:p.timeline&&p.timeline.length>0?(0,s.jsx)("div",{className:"space-y-4",children:p.timeline.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${0===a?"bg-primary text-primary-foreground":"bg-muted"}`,children:0===a?(0,s.jsx)(c.CheckCircle2,{className:"h-4 w-4"}):(0,s.jsx)(o.Clock,{className:"h-4 w-4"})}),a<p.timeline.length-1&&(0,s.jsx)("div",{className:"w-px h-full bg-border mt-2"})]}),(0,s.jsxs)("div",{className:"flex-1 pb-4",children:[(0,s.jsx)("p",{className:"font-medium",children:e.action}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleString()}),e.actor_name&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["by ",e.actor_name]})]})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No activity yet"})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Information"})}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,s.jsx)(n.Badge,{variant:"outline",className:y[p.status],children:p.status.replace("_"," ")})]}),p.category&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Category"}),(0,s.jsx)("p",{className:"font-medium capitalize",children:p.category.replace("_"," ")})]}),p.severity_level&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Severity"}),(0,s.jsxs)(n.Badge,{variant:"secondary",className:{low:"bg-green-500/10 text-green-700",medium:"bg-yellow-500/10 text-yellow-700",high:"bg-orange-500/10 text-orange-700",critical:"bg-red-500/10 text-red-700"}[p.severity_level],children:[p.severity_level,p.severity_score&&` (${p.severity_score}/100)`]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Submitted"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(l.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(p.created_at).toLocaleDateString()})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Location"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(d.MapPin,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm",children:p.address||`${p.latitude}, ${p.longitude}`})]})})]}),p.assigned_department&&(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Assignment"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Department"}),(0,s.jsx)("p",{className:"font-medium",children:p.assigned_department})]})})]})]})]})]})})]})}e.s(["default",()=>u])}]);